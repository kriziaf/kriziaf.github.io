<html>
<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.5/p5.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.5/addons/p5.dom.js"></script>
	<script src="lib/p5.speech.js"></script>
	<script>

	var words = ["I am capable", "It's safe here'", "It's okay", "you can do it"]; // some words
	var iptr = 0; // a counter for the words

	var myVoice = new p5.Speech(); // new P5.Speech object

	var listbutton; // button

	var bg;
	var smiley;
	var space;

	function preload() {
	  smiley = loadImage('img/smiley.png');
		space = loadImage('img/space.jpg');
	}

	function setup()
	{

		// graphics stuff:
		createCanvas(1000, 700);
	  background(space);
		//background(0, 0, 255);
		fill(255); // clear screen

		//fill(255, 255, 255, 100);
		// instructions:
		textSize(100);
		textAlign(CENTER);
		text("Safe Space", width/2, height/2);
		// **---button:
		// listbutton = createButton('List Voices');
  	// 	listbutton.position(180, 430);
  	// 	listbutton.mousePressed(doList);
  	//// say hello:
		myVoice.speak('You are entering a safe space.');
	}

	function draw()
	{
		// why draw when you can click?

	}

	function doList()
	{
		myVoice.listVoices(); // debug printer for voice options
	}

	function keyPressed()
	{
		//background(255,255,0); // clear screen

	}

	function mousePressed()
	{
		// if in bounds:
		if(mouseX<width && mouseY<height) {
			// ellipse(mouseX, mouseY, 50, 50);
				image(smiley, mouseX, mouseY, 50, 50);
			//fill(255,255,0); // circle
			// randomize voice and speak word:
			myVoice.setVoice(Math.floor(random(myVoice.voices.length)));
			myVoice.speak(words[iptr]);
			iptr = (iptr+1) % words.length; // increment
		}
	}

</script>
</head>
<body>

</body>
</html>
